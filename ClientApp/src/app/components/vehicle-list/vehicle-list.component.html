<div class="container">
  <h3>Vehicles</h3>
  <div class="form-group">
    <button class="btn btn-primary" [routerLink]='["/vehicles/new"]'>
      Add New Vehicle
    </button>
  </div>
  <div class="card">
    <div class="card-body">
      <div class="form-group">
        <div class="row">
          <div class="col-2">
            <label>Make</label>
          </div>
          <div class="col-8">
            <select name="" id="make" class="form-control my-form-control" [(ngModel)]="filter.makeId" (change)="onFilterChange()">
              <option value="">
                --select make--
              </option>
              <option *ngFor="let m of makes" value="{{m.id}}">{{m.name}}</option>
            </select>
          </div>
        </div>
        <div class="row px-4">
          <button class="btn btn-warning ml-auto mr-4" type="button" (click)="resetFilter()">Reset</button>

        </div>


      </div>

    </div>

  </div>
  <div class="card pt-2 mt-4">
    <div class="card-body">
      <table class="table">
        <thead class="thead-light text-center">
          <tr>
            <th scope="col">Id</th>
            <th scope="col">Model</th>
            <th scope="col">Make</th>
            <th scope="col">Registered</th>
            <th scope="col">Features</th>
            <th scope="col">Name</th>
            <th scope="col">Phone</th>
            <th scope="col">Email</th>
            <th scope="col">&nbsp;</th>

          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let v of vehicles" class="text-center">
            <th scope="row"> {{v.id}} </th>
            <td>{{ v.model.name }}</td>
            <td>{{ v.make.name }}</td>
            <td> {{v.isRegistered?'Yes':'No'}} </td>
            <td>
              <ul class="list-unstyled">
                <li *ngFor="let f of v.features" class=""> {{f.name}} </li>
              </ul>
            </td>
            <td> {{v.contact.name}} </td>
            <td> {{v.contact.phone}} </td>
            <td> {{v.contact.email}} </td>
            <td>
              <a class="btn btn-link" [routerLink]='["/vehicles/",v.id]'>Edit</a>
            </td>
          </tr>

        </tbody>
      </table>
    </div>
  </div>

</div>
